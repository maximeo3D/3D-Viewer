<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>3D Viewer</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
    <script src="https://cdn.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"></script>
    <script src="https://cdn.babylonjs.com/hdr/babylonjs.hdr.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"></script>
    <script src="datGUI.js"></script>
    <script>
        // Contrôle de visibilité de la sidebar
        const showSidebar = true; // Changez true/false pour afficher/cacher la sidebar
    </script>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-content">
                <div class="category">
                    <h3>Models</h3>
                    <div class="buttons">
                        <button class="sidebar-btn" id="model1-btn">Model 1</button>
                        <button class="sidebar-btn" id="model2-btn">Model 2</button>
                    </div>
                </div>
                
                <div class="category">
                    <h3>Colors</h3>
                    <div class="buttons">
                        <button class="sidebar-btn" id="color1-btn">Red</button>
                        <button class="sidebar-btn" id="color2-btn">Green</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="canvas-container">
            <canvas id="renderCanvas"></canvas>
        </div>
    </div>
    <script src="scene.js"></script>
    <script>
        // Connecter les boutons HTML au système SKU
        document.addEventListener('DOMContentLoaded', function() {
            // Attendre que le SKUManager soit initialisé
            setTimeout(() => {
                if (window.skuManager) {
                    // Boutons Model
                    document.getElementById('model1-btn').addEventListener('click', () => {
                        window.skuManager.setModel('model1');
                        updateButtonStates();
                    });
                    
                    document.getElementById('model2-btn').addEventListener('click', () => {
                        window.skuManager.setModel('model2');
                        updateButtonStates();
                    });
                    
                    // Boutons Color
                    document.getElementById('color1-btn').addEventListener('click', () => {
                        window.skuManager.setColorScheme('color1');
                        updateButtonStates();
                    });
                    
                    document.getElementById('color2-btn').addEventListener('click', () => {
                        window.skuManager.setColorScheme('color2');
                        updateButtonStates();
                    });
                    
                    // Mettre à jour l'état initial des boutons
                    updateButtonStates();
                }
            }, 1000);
            
            function updateButtonStates() {
                if (!window.skuManager) return;
                
                const currentModel = window.skuManager.currentModel;
                const currentColorScheme = window.skuManager.currentColorScheme;
                
                // Reset all buttons
                document.querySelectorAll('.sidebar-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // Activate current selections
                if (currentModel === 'model1') {
                    document.getElementById('model1-btn').classList.add('active');
                } else if (currentModel === 'model2') {
                    document.getElementById('model2-btn').classList.add('active');
                }
                
                if (currentColorScheme === 'color1') {
                    document.getElementById('color1-btn').classList.add('active');
                } else if (currentColorScheme === 'color2') {
                    document.getElementById('color2-btn').classList.add('active');
                }
            }
        });
    </script>
</body>
</html>
